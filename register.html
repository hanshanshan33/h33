<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title># - 新用户注册</title>
  <style>
    #error_box{
      height:40px;
      width:350px;
      margin:0 auto;
      line-height:40px;
      color:#fc4343;
    }
  </style>
  <!--[if lt IE 9]>
  <script src="html5shiv/html5shiv.min.js"></script>
  <script src="respond/respond.min.js"></script>
  <![endif]-->
  <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <script>
    function fnLogin(){
      var oUname = document.getElementById("account");
      var oUpass = document.getElementById("password");
      var oError = document.getElementById("error_box");
      var isNotError = true;
      if(oUname.value.length > 20 || oUname.value.length < 10){
        oError.innerHTML = "用户名长度必须在10~20位之间";
        isNotError = false;
        return;

      }else if(oUname.value.charCodeAt(0) >= 48 && oUname.value.charCodeAt(0) <= 57){
        oError.innerHTML = "用户名开头不能为数字";
        isNotError = false;
        return;
      }else{
        for(var i=0; i<oUname.value.length; i++){
          if((oUname.value.charCodeAt(i) > 122 || oUname.value.charCodeAt(i) < 97) && (oUname.value.charCodeAt(i) > 57 || oUname.value.charCodeAt(i) < 48)){
            oError.innerHTML = "用户名只能包含小写字母和数字";
            isNotError = false;
            return;
          }
        }
      }
      if(oUpass.value.length > 20 || oUpass.value.length < 6){
        oError.innerHTML = "密码长度必须在6~20位之间";
        isNotError = false;
        return;
      }
    }
  </script>
</head>
<body>
<div class="container">
  <div class="row">
    <div class="col-md-12 page-header">
      <h1 class="text-center">#<br/>
        <small>新用户注册</small>
      </h1>
    </div>
  </div>
</div>
<br />
<br />
<br />
<div class="container">
  <div class="row">
    <div class="col-md-4 col-md-offset-8" id="form">
      <div id="error_box"></div>
      <div class="form-group">
        <label for="account">用户名</label>
        <input type="text" class="form-control" id="account"/><span id="acc" style="color: #ff2a00;display: none">请输入用户名</span>
      </div>
      <div class="form-group">
        <label for="password">密码</label>
        <input type="password" class="form-control" id="password"/><span id="ppp" style="color: #ff2a00;display: none">请输入密码</span>
      </div>
      <div class="form-group">
        <label for="password2">确认密码</label>
        <input type="password" class="form-control" id="password2"/><span id="pas2" style="color: #ff2a00;display: none">请再次确认密码</span>
      </div>
      <button id="register" disabled="true" class="btn btn-primary btn-block"  onclick="fnLogin()">注册</button>
      <a href="login.html">
        <button type="button" class="register-tis">已注册该账号</button>
      </a>
    </div>
  </div>
</div>
<script src="jquery/jquery.min.js"></script>
<script src="bootstrap/js/bootstrap.min.js"></script>
<script src="layer/layer.js"></script>
<script src="register.js"></script>
<script>
 /* $(function(){
    $('#account').on('blur', function(){
      console.log(this);
      if($('#account').val()==''){
      layer.msg('请输入用户名')}
    })
  })
  $(function(){
    $('#password').on('blur', function(){
      console.log(this);
      if($('#password').val()==''){
      layer.msg('请输入密码')}
    })
  })*/
 $(function(){
   $('#account').on('blur', function(){
     console.log(this);
     if($('#account').val()==''){
       acc.style.display='block'}
     else {acc.style.display='none'}
   })
 })
 $(function(){
   $('#password').on('blur', function(){
     console.log(this);
    if($('#password').val()==''){
       ppp.style.display='block'}
     else {ppp.style.display='none'}
 })
 })
 $(function(){
   $('#password2').on('blur', function(){
     console.log(this);
     if($('#password2').val()!=$('#password').val()||$('#password2').val()==''){
       pas2.style.display='block'
     }
     else {pas2.style.display='none'}
   })
 })

  function buttonStatus(){
    var input=$('#form input')
    var flag=1
//    if(input[0].value.length > 20){
//      layer.msg('输入的用户名过长');
//      flag=0
//    }
//    if(input[0].value.length < 10){
//      layer.msg('输入的用户名过短');
//      flag=0
//    }
    if(''==input[0].value){
      layer.msg('用户名不能为空');
      flag=0
    }
    if(flag==1){
      $('#register').attr('disabled',false)
    }else {
      $('#register').attr('disabled',true)
    }
  }
  $(function(){
    $('#form input').on('blur',function(){
      buttonStatus()
    })
    $('#form input').on('keyup', function(){
      buttonStatus()

    })
  })
</script>

</body>
</html>
